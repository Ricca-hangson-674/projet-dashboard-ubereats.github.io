(this["webpackJsonpprojet-uber-eats-dashboard"]=this["webpackJsonpprojet-uber-eats-dashboard"]||[]).push([[15],{553:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={env:"prod",endpointLocal:"http://127.0.0.1:5059",endpointProd:"https://projet-eats-nrh.herokuapp.com"}},554:function(e,t,a){"use strict";a(0);var n=a(4),r=a(2),c=function(e){var t=e.variant,a=e.children;return Object(r.jsx)(n.a,{color:t,children:a})};c.defaultProps={variant:"info"},t.a=c},557:function(e,t,a){"use strict";a(0);var n=a(4),r=a(2);t.a=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.U,{color:"primary",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading ..."})})})}},601:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u}));var n=a(551),r=a.n(n),c=a(552),s=a(555),o=a.n(s),i=a(553),l=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"}},a="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,n="".concat(a,"/api/dashboard"),e.next=6,o.a.get("".concat(n),t);case 6:return c=e.sent,s=c.data,e.abrupt("return",{status:!0,data:s});case 11:return e.prev=11,e.t0=e.catch(0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:l});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,s,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},n="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,c="".concat(n,"/api/dashboard/chiffres-affaires"),e.next=6,o.a.post("".concat(c),t,a);case 6:return s=e.sent,l=s.data,e.abrupt("return",{status:!0,data:l});case 11:return e.prev=11,e.t0=e.catch(0),u=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:u});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},784:function(e,t,a){"use strict";a.r(t);var n=a(566),r=a(558),c=a(551),s=a.n(c),o=a(28),i=a(552),l=a(556),u=a(0),d=a(638),j=a.n(d),b=a(4),p=a(639),h=a(640),f=a(174),O=a(601),v=a(557),m=a(554),x=a(2),g=Object(u.lazy)((function(){return a.e(33).then(a.bind(null,778))}));t.default=function(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],d=Object(u.useState)(null),y=Object(l.a)(d,2),N=y[0],C=y[1],D=Object(u.useState)(null),S=Object(l.a)(D,2),Y=S[0],E=S[1],M=Object(u.useState)(null),A=Object(l.a)(M,2),R=A[0],k=A[1],I=Object(u.useState)("Day"),w=Object(l.a)(I,2),B=w[0],G=w[1],T=Object(u.useState)("READING"),P=Object(l.a)(T,2),L=P[0],F=P[1],W=Object(u.useState)(null),_=Object(l.a)(W,2),H=_[0],U=_[1],J=Object(u.useState)(null),z=Object(l.a)(J,2),Z=z[0],q=z[1];Object(u.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)();case 2:return t=e.sent,e.next=5,Object(O.a)();case 5:a=e.sent,(null===t||void 0===t?void 0:t.status)?c(Object(o.a)({},null===t||void 0===t?void 0:t.data)):E(null===t||void 0===t?void 0:t.error),(null===a||void 0===a?void 0:a.status)?C(Object(o.a)({},null===a||void 0===a?void 0:a.data)):k(null===a||void 0===a?void 0:a.error);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Run once, when the component mounts"),function(){e.apply(this,arguments)}()}),[]),Object(u.useEffect)((function(){var e;console.log("Dependency");var t,a=[],c=[],s=[];if("Day"===B)(null===N||void 0===N||null===(t=N.ordersChiffresGroupedByDayStatus)||void 0===t?void 0:t.length)&&(s=Object(r.a)(null===N||void 0===N?void 0:N.ordersChiffresGroupedByDayStatus));else if("Month"===B){var o;(null===N||void 0===N||null===(o=N.ordersChiffresGroupedByMonthWithStatus)||void 0===o?void 0:o.length)&&(s=Object(r.a)(null===N||void 0===N?void 0:N.ordersChiffresGroupedByMonthWithStatus))}else if("Year"===B){var i;(null===N||void 0===N||null===(i=N.ordersChiffresGroupedByYearWithStatus)||void 0===i?void 0:i.length)&&(s=Object(r.a)(null===N||void 0===N?void 0:N.ordersChiffresGroupedByYearWithStatus))}if(null===(e=s)||void 0===e?void 0:e.length){var l,u=Object(n.a)(s);try{for(u.s();!(l=u.n()).done;){var d=l.value;L===d.status&&("Day"===B?(a=[].concat(Object(r.a)(a),[j()(d.updatedAt).format("DD/MM/YYYY")]),c=[].concat(Object(r.a)(c),[d.total])):"Month"===B?(a=[].concat(Object(r.a)(a),[j()(d.updatedAt).format("MM/YYYY")]),c=[].concat(Object(r.a)(c),[d.total])):"Year"===B&&(a=[].concat(Object(r.a)(a),[j()(d.updatedAt).format("YYYY")]),c=[].concat(Object(r.a)(c),[d.total])))}}catch(b){u.e(b)}finally{u.f()}q(Object(r.a)(c)),U(Object(r.a)(a))}}),[L,B,N]);var K=function(e,t){"status"===t?F(e):"type"===t&&G(e)};return null===a||null===N?Object(x.jsx)(v.a,{}):R?Object(x.jsxs)(m.a,{children:[" ",R]}):Y?Object(x.jsxs)(m.a,{children:[" ",Y]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.f,{}),Object(x.jsx)(g,{}),Object(x.jsxs)(b.h,{className:"mb-4",children:[Object(x.jsxs)(b.i,{children:[Object(x.jsxs)(b.P,{children:[Object(x.jsxs)(b.o,{sm:5,children:[Object(x.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Commandes"}),Object(x.jsx)("div",{className:"small text-medium-emphasis",children:j()().format("DD/MMM/YYYY h:mm:ss A")})]}),Object(x.jsxs)(b.o,{sm:7,className:"d-none d-md-block",children:[Object(x.jsx)(b.B,{value:L,"aria-label":"Status",className:"float-end mb-1",onChange:function(e){K(e.target.value,"status")},children:["ORDER_STATUS_UNSPECIFIED","CONFIRMED","PENDING","PENDING_MERCHANT_CONFIRMATION","CANCELED","FAILED","DECLINED_BY_MERCHANT","READING"].map((function(e){return Object(x.jsx)("option",{value:e,children:e},e)}))}),Object(x.jsx)(b.g,{className:"float-end me-3",children:["Day","Month","Year"].map((function(e){return Object(x.jsx)(b.f,{onClick:function(){return K(e,"type")},color:"outline-secondary",className:"mx-0",active:e===B,children:e},e)}))})]})]}),Object(x.jsx)(p.b,{style:{height:"300px",marginTop:"40px"},data:{labels:null!==H?Object(r.a)(H):[],datasets:[{label:"Commandes par ".concat(B),backgroundColor:Object(h.hexToRgba)(Object(h.getStyle)("--cui-info"),10),borderColor:Object(h.getStyle)("--cui-info"),pointHoverBackgroundColor:Object(h.getStyle)("--cui-info"),borderWidth:2,data:null!==Z?Object(r.a)(Z):[],fill:!0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{drawOnChartArea:!1}},y:{ticks:{beginAtZero:!0,maxTicksLimit:5}}},elements:{line:{tension:.4},point:{height:5,radius:5,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}}})]}),Object(x.jsx)(b.j,{children:Object(x.jsx)(b.P,{xs:{cols:1},md:{cols:5},className:"text-center",children:a.orderStat.map((function(e,t){return Object(x.jsxs)(b.o,{className:"mb-sm-2 mb-0",children:[Object(x.jsx)("div",{className:"text-medium-emphasis",children:e.title}),Object(x.jsxs)("strong",{children:[e.value," (",e.percent,"%)"]}),Object(x.jsx)(b.O,{thin:!0,className:"mt-2",color:e.color,value:(null===e||void 0===e?void 0:e.percent)?Number(null===e||void 0===e?void 0:e.percent):0})]},t)}))})})]})]})}}}]);
//# sourceMappingURL=15.07c4d551.chunk.js.map