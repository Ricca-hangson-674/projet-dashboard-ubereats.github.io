(this["webpackJsonpprojet-uber-eats-dashboard"]=this["webpackJsonpprojet-uber-eats-dashboard"]||[]).push([[17],{553:function(e,t,a){"use strict";a(0);var r=a(4),n=a(2),s=function(e){var t=e.variant,a=e.children;return Object(n.jsx)(r.a,{color:t,children:a})};s.defaultProps={variant:"info"},t.a=s},554:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={env:"prod",endpointLocal:"http://127.0.0.1:5059",endpointProd:"https://projet-eats-nrh.herokuapp.com"}},555:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return p}));var r=a(551),n=a.n(r),s=a(552),c=a(560),o=a.n(c),i=a(554),u=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r,s,c,u,l,d,p=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:null,a=p.length>1&&void 0!==p[1]?p[1]:null,e.prev=2,r={headers:{"Content-Type":"application/json"}},s="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,c=null,c=a?"".concat(s,"/api/users/").concat(a):t?"".concat(s,"/api/users?type=").concat(t):"".concat(s,"/api/users"),e.next=9,o.a.get("".concat(c),r);case 9:return u=e.sent,l=u.data,e.abrupt("return",{status:!0,data:l});case 14:return e.prev=14,e.t0=e.catch(2),d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:d});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},r="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,e.next=5,o.a.delete("".concat(r,"/api/users/").concat(t),a);case 5:return s=e.sent,c=s.data,e.abrupt("return",{status:!0,data:c});case 10:return e.prev=10,e.t0=e.catch(0),u=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:u});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s,c,u,l,d=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:null,e.prev=1,s={headers:{"Content-Type":"application/json"}},c="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,u=null,!a){e.next=11;break}return e.next=8,o.a.put("".concat(c,"/api/users/").concat(a),t,s);case 8:u=e.sent,e.next=14;break;case 11:return e.next=13,o.a.post("".concat(c,"/api/users"),t,s);case 13:u=e.sent;case 14:return e.abrupt("return",{status:!0,data:null===(r=u)||void 0===r?void 0:r.data});case 17:return e.prev=17,e.t0=e.catch(1),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:l});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},r="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,e.next=5,o.a.post("".concat(r,"/api/users/login"),t,a);case 5:return s=e.sent,c=s.data,e.abrupt("return",{status:!0,data:c});case 10:return e.prev=10,e.t0=e.catch(0),u=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,e.abrupt("return",{status:!1,error:u});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},752:function(e,t,a){"use strict";a.r(t);var r=a(28),n=a(551),s=a.n(n),c=a(552),o=a(175),i=a(0),u=a(57),l=a(4),d=a(19),p=a(540),j=a(544),b=a(568),h=a(587),m=a(586),v=a(26),x=a(553),O=a(555),f=a(2),g=m.a().shape({email:m.c().email("email must email valid").required("email is required"),password:m.c().required("password are required")});t.default=function(){var e,t,a=Object(i.useState)(null),n=Object(o.a)(a,2),m=n[0],w=n[1],y=Object(i.useState)(!1),N=Object(o.a)(y,2),k=N[0],S=N[1],L=Object(i.useState)(!1),P=Object(o.a)(L,2),C=P[0],q=P[1],T=Object(v.g)(),E=Object(b.d)({resolver:Object(h.a)(g),mode:"onTouched"}),F=E.register,J=E.handleSubmit,I=E.formState,A=I.errors,R=I.isSubmitting,V=I.isValid,z=E.resetField,B=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,n,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!V){e.next=7;break}return S(!1),q(!1),e.next=6,Object(O.a)(t);case 6:r=e.sent;case 7:(null===(a=r)||void 0===a?void 0:a.status)?(z("email"),z("password"),S(!0),console.log("response",JSON.stringify(null===(n=r)||void 0===n?void 0:n.data)),localStorage.setItem("user",JSON.stringify(null===(c=r)||void 0===c?void 0:c.data)),T.push("/")):(q(!0),w(null===(o=r)||void 0===o?void 0:o.error));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("error",A,R,V),Object(f.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:Object(f.jsxs)(l.n,{children:[C&&Object(f.jsxs)(x.a,{children:[" ",m]}),k&&Object(f.jsxs)(x.a,{children:[" ","Success Ajout ou Edite"]}),Object(f.jsx)(l.L,{className:"justify-content-center",children:Object(f.jsx)(l.m,{md:8,children:Object(f.jsxs)(l.k,{children:[Object(f.jsx)(l.h,{className:"p-4",children:Object(f.jsx)(l.i,{children:Object(f.jsxs)(l.v,{className:"row g-3 needs-validation ".concat(V&&"was-validated"),onSubmit:J(B),children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),Object(f.jsxs)(l.E,{className:"mb-3",children:[Object(f.jsx)(l.F,{children:Object(f.jsx)(d.a,{icon:p.a})}),Object(f.jsx)(l.x,Object(r.a)({placeholder:"Email",autoComplete:"email"},F("email"))),Object(f.jsx)(l.w,{invalid:!0,children:null===(e=A.email)||void 0===e?void 0:e.message})]}),Object(f.jsxs)(l.E,{className:"mb-4",children:[Object(f.jsx)(l.F,{children:Object(f.jsx)(d.a,{icon:j.a})}),Object(f.jsx)(l.x,Object(r.a)({type:"password",placeholder:"Password",autoComplete:"current-password"},F("password"))),Object(f.jsx)(l.w,{invalid:!0,children:null===(t=A.password)||void 0===t?void 0:t.message})]}),Object(f.jsxs)(l.L,{children:[Object(f.jsx)(l.m,{xs:6,children:Object(f.jsx)(l.f,{color:"primary",type:"submit",className:"px-4 ".concat(R?"disabled":" "),children:"Login"})}),Object(f.jsx)(l.m,{xs:6,className:"text-right",children:Object(f.jsx)(l.f,{color:"link",type:"button",className:"px-0",children:"Forgot password?"})})]})]})})}),Object(f.jsx)(l.h,{className:"text-white bg-primary py-5",style:{width:"44%"},children:Object(f.jsx)(l.i,{className:"text-center",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Sign up"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(f.jsx)(u.b,{to:"/register",children:Object(f.jsx)(l.f,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})]})})}}}]);
//# sourceMappingURL=17.52454039.chunk.js.map