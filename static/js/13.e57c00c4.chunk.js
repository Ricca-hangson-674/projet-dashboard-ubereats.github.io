(this["webpackJsonpprojet-uber-eats-dashboard"]=this["webpackJsonpprojet-uber-eats-dashboard"]||[]).push([[13],{551:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={env:"prod",endpointLocal:"http://127.0.0.1:5059",endpointProd:"https://projet-eats-nrh.herokuapp.com"}},554:function(t,e,n){"use strict";n(0);var r=n(4),a=n(2),c=function(t){var e=t.variant,n=t.children;return Object(a.jsx)(r.a,{color:e,children:n})};c.defaultProps={variant:"info"},e.a=c},556:function(t,e,n){"use strict";n(0);var r=n(4),a=n(2);e.a=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(r.Z,{color:"primary",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading ..."})})})}},567:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(564);function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,c=function(){};return{s:c,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw s}}}}},604:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(552),a=n.n(r),c=n(553),s=n(555),o=n.n(s),i=n(551),u=function(){var t=Object(c.a)(a.a.mark((function t(){var e,n,r,c,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={headers:{"Content-Type":"application/json"}},n="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,r="".concat(n,"/api/dashboard"),t.next=6,o.a.get("".concat(r),e);case 6:return c=t.sent,s=c.data,t.abrupt("return",{status:!0,data:s});case 11:return t.prev=11,t.t0=t.catch(0),u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,t.abrupt("return",{status:!1,error:u});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c,s,u,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},r="local"===i.a.env?i.a.endpointLocal:i.a.endpointProd,c="".concat(r,"/api/dashboard/chiffres-affaires"),t.next=6,o.a.post("".concat(c),e,n);case 6:return s=t.sent,u=s.data,t.abrupt("return",{status:!0,data:u});case 11:return t.prev=11,t.t0=t.catch(0),l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,t.abrupt("return",{status:!1,error:l});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},802:function(t,e,n){"use strict";n.r(e);var r=n(567),a=n(558),c=n(552),s=n.n(c),o=n(27),i=n(553),u=n(557),l=n(0),d=n(4),b=n(595),j=n.n(b),f=n(556),p=n(554),h=n(174),O=n(604),v=n(2);e.default=function(){var t=Object(l.useState)(null),e=Object(u.a)(t,2),n=e[0],c=e[1],b=Object(l.useState)(null),m=Object(u.a)(b,2),x=m[0],y=m[1],g=Object(l.useState)(null),D=Object(u.a)(g,2),N=D[0],S=D[1],C=Object(l.useState)("Day"),E=Object(u.a)(C,2),Y=E[0],A=E[1],I=Object(l.useState)("READING"),w=Object(u.a)(I,2),M=w[0],G=w[1];Object(l.useEffect)((function(){function t(){return(t=Object(i.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.a)();case 2:(null===(e=t.sent)||void 0===e?void 0:e.status)?c(Object(o.a)({},null===e||void 0===e?void 0:e.data)):S(null===e||void 0===e?void 0:e.error);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log("Run once, when the component mounts"),function(){t.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){var t;console.log("Dependency");var e,c=[],s=[];if("Day"===Y)(null===n||void 0===n||null===(e=n.ordersChiffresGroupedByDayStatus)||void 0===e?void 0:e.length)&&(s=Object(a.a)(null===n||void 0===n?void 0:n.ordersChiffresGroupedByDayStatus));else if("Month"===Y){var i;(null===n||void 0===n||null===(i=n.ordersChiffresGroupedByMonthWithStatus)||void 0===i?void 0:i.length)&&(s=Object(a.a)(null===n||void 0===n?void 0:n.ordersChiffresGroupedByMonthWithStatus))}else if("Year"===Y){var u;(null===n||void 0===n||null===(u=n.ordersChiffresGroupedByYearWithStatus)||void 0===u?void 0:u.length)&&(s=Object(a.a)(null===n||void 0===n?void 0:n.ordersChiffresGroupedByYearWithStatus))}if(null===(t=s)||void 0===t?void 0:t.length){var l,d=Object(r.a)(s);try{for(d.s();!(l=d.n()).done;){var b=l.value;M===b.status&&("Day"===Y?c=[].concat(Object(a.a)(c),[Object(o.a)(Object(o.a)({},b),{},{updatedAt:j()(b.updatedAt).format("DD/MM/YYYY")})]):"Month"===Y?c=[].concat(Object(a.a)(c),[Object(o.a)(Object(o.a)({},b),{},{updatedAt:j()(b.updatedAt).format("MM/YYYY")})]):"Year"===Y&&(c=[].concat(Object(a.a)(c),[Object(o.a)(Object(o.a)({},b),{},{updatedAt:j()(b.updatedAt).format("YYYY")})])))}}catch(f){d.e(f)}finally{d.f()}y(Object(a.a)(c))}}),[M,Y,n]);var R=function(t,e){"status"===e?G(t):"type"===e&&A(t)};return null===n?Object(v.jsx)(f.a,{}):N?Object(v.jsxs)(p.a,{children:[" ",N]}):Object(v.jsxs)(d.U,{children:[Object(v.jsx)(h.f,{}),Object(v.jsx)(d.o,{xs:12,children:Object(v.jsxs)(d.h,{className:"mb-4",children:[Object(v.jsx)(d.l,{children:Object(v.jsxs)(d.U,{children:[Object(v.jsx)(d.o,{sm:5,children:Object(v.jsx)("strong",{children:"Listes des Historiques"})}),Object(v.jsxs)(d.o,{sm:7,className:"d-none d-md-block",children:[Object(v.jsx)(d.B,{value:M,"aria-label":"Status",className:"float-end mb-1",onChange:function(t){R(t.target.value,"status")},children:["ORDER_STATUS_UNSPECIFIED","CONFIRMED","PENDING","PENDING_MERCHANT_CONFIRMATION","CANCELED","FAILED","DECLINED_BY_MERCHANT","READING"].map((function(t){return Object(v.jsx)("option",{value:t,children:t},t)}))}),Object(v.jsx)(d.g,{className:"float-end me-3",children:["Day","Month","Year"].map((function(t){return Object(v.jsx)(d.f,{onClick:function(){return R(t,"type")},color:"outline-secondary",className:"mx-0",active:t===Y,children:t},t)}))})]})]})}),Object(v.jsx)(d.i,{children:Object(v.jsxs)(d.ab,{children:[Object(v.jsx)(d.db,{children:Object(v.jsxs)(d.fb,{children:[Object(v.jsx)(d.eb,{scope:"col",children:"Total"}),Object(v.jsx)(d.eb,{scope:"col",children:"Status"}),Object(v.jsx)(d.eb,{scope:"col",children:"Date"})]})}),Object(v.jsx)(d.bb,{children:x&&x.length>0?x.map((function(t,e){return Object(v.jsxs)(d.fb,{children:[Object(v.jsxs)(d.cb,{children:[t.total.toLocaleString("fr-FR")," $"]}),Object(v.jsx)(d.cb,{children:t.status}),Object(v.jsx)(d.cb,{children:t.updatedAt})]},e)})):Object(v.jsx)("h3",{children:"NO Items"})})]})})]})})]})}}}]);
//# sourceMappingURL=13.e57c00c4.chunk.js.map